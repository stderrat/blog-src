/**
 * Print Styles
 * Optimized CSS for printing articles
 */

@media print {
    /* ========================================
       PAGE SETUP
    ======================================== */
    @page {
        size: A4;
        margin: 2cm 1.5cm;
    }
    
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    html, body {
        font-size: 11pt !important;
        line-height: 1.5 !important;
        color: #000 !important;
        background: #fff !important;
    }
    
    /* ========================================
       HIDE NON-ESSENTIAL ELEMENTS
    ======================================== */
    /* Navigation & UI */
    #sidebar,
    #sidebar-toggle,
    #sidebar-toggle-btn,
    .sidebar-toggle,
    .sidebar-toggle-btn,
    #navigation,
    #navigation-bottom,
    .nav-prev,
    .nav-next,
    #top-bar,
    #top-nav,
    .sub-top-nav,
    #head-tags,
    #homelinks,
    .topnav-search-btn,
    .topnav-help-btn,
    .theme-toggle-btn,
    .theme-toggle-li,
    #top-github-link,
    .topbar-social,
    .searchbox,
    #search-by,
    .search-button,
    .sidebar-search-btn,
    #TableOfContents,
    #toc-title,
    #toc-field,
    .toc,
    .footline,
    .footer,
    #footer,
    .scroll-to-top,
    .top-btn,
    #myBtn,
    .progress-bar,
    .read-progress,
    .feedback-widget,
    .related-articles,
    .comments-section,
    .bookmark-wrapper,
    .bookmarks-section,
    .bookmark-toast,
    .copy-toast,
    #copy-toast-container,
    .share-buttons,
    .social-share,
    .breadcrumb,
    #breadcrumbs,
    .copy-to-clipboard,
    .anchor,
    .actionbar,
    .svg-reset-button,
    .mermaid-container .actionbar,
    [class*="featherlight"],
    .shortcuts,
    .search-modal,
    .shortcuts-modal,
    .reader-mode-toggle,
    .reader-mode-exit,
    .reader-nav-prev,
    .reader-nav-next,
    .reader-search-btn,
    .reader-progress-indicator,
    .reader-font-controls,
    .external-link-icon,
    .skip-to-content {
        display: none !important;
    }
    
    /* ========================================
       LAYOUT ADJUSTMENTS
    ======================================== */
    #body {
        margin: 0 !important;
        padding: 0 !important;
        max-width: 100% !important;
    }
    
    #body-inner {
        margin: 0 !important;
        padding: 0 !important;
        max-width: 100% !important;
    }
    
    .container {
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    #chapter {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .post-content,
    .article-content,
    #content {
        max-width: 100% !important;
        margin: 0 !important;
    }
    
    /* ========================================
       TYPOGRAPHY
    ======================================== */
    h1 {
        font-size: 22pt !important;
        color: #000 !important;
        margin-top: 0 !important;
        page-break-after: avoid;
    }
    
    h1.article {
        font-size: 20pt !important;
        border-bottom: 2pt solid #333 !important;
        padding-bottom: 0.5rem !important;
    }
    
    h2 {
        font-size: 16pt !important;
        color: #000 !important;
        margin-top: 1.5rem !important;
        page-break-after: avoid;
    }
    
    h3 {
        font-size: 13pt !important;
        color: #000 !important;
        page-break-after: avoid;
    }
    
    h4, h5, h6 {
        font-size: 11pt !important;
        color: #000 !important;
        page-break-after: avoid;
    }
    
    p {
        orphans: 3;
        widows: 3;
        text-align: justify;
    }
    
    /* ========================================
       ARTICLE METADATA
    ======================================== */
    .tracked {
        font-size: 9pt !important;
        color: #555 !important;
        border-bottom: 1px solid #ccc !important;
        padding-bottom: 0.5rem !important;
        margin-bottom: 1rem !important;
    }
    
    time, .author, .readtime {
        color: #555 !important;
    }
    
    .readtime {
        background: none !important;
        padding: 0 !important;
    }
    
    .divider {
        color: #999 !important;
    }
    
    .word-count {
        display: none !important;
    }
    
    /* ========================================
       LINKS
    ======================================== */
    a {
        color: #000 !important;
        text-decoration: underline !important;
    }
    
    /* Show URLs after external links */
    a[href^="http"]:after,
    a[href^="https"]:after {
        content: " (" attr(href) ")";
        font-size: 8pt;
        color: #666;
        word-break: break-all;
    }
    
    /* Don't show URL for internal links or anchors */
    a[href^="#"]:after,
    a[href^="/"]:after,
    a.category-link:after,
    a.no-print-url:after {
        content: none !important;
    }
    
    /* ========================================
       CODE BLOCKS
    ======================================== */
    pre, code {
        font-size: 9pt !important;
        background: #f4f4f4 !important;
        color: #000 !important;
        border: 1px solid #ddd !important;
    }
    
    pre {
        padding: 0.75rem !important;
        page-break-inside: avoid;
        overflow-x: visible !important;
        white-space: pre-wrap !important;
        word-wrap: break-word !important;
    }
    
    /* Reset syntax highlighting for print */
    .hljs,
    .hljs span,
    pre code,
    pre code span {
        color: #000 !important;
        background: transparent !important;
    }
    
    .hljs-keyword,
    .hljs-built_in,
    .hljs-type {
        font-weight: bold !important;
    }
    
    .hljs-comment {
        font-style: italic !important;
        color: #666 !important;
    }
    
    .hljs-string {
        color: #333 !important;
    }
    
    /* Code callouts */
    .conum[data-value] {
        background: #333 !important;
        color: #fff !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* Code language badge */
    .code-language-badge {
        background: #333 !important;
        color: #fff !important;
        font-size: 8pt !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* ========================================
       IMAGES
    ======================================== */
    img {
        max-width: 100% !important;
        height: auto !important;
        page-break-inside: avoid;
    }
    
    figure {
        page-break-inside: avoid;
        margin: 1rem 0 !important;
    }
    
    figcaption {
        font-size: 9pt !important;
        color: #666 !important;
    }
    
    .featured-img {
        display: none !important;
    }
    
    /* ========================================
       TABLES
    ======================================== */
    table {
        border-collapse: collapse !important;
        width: 100% !important;
        font-size: 9pt !important;
        page-break-inside: avoid;
    }
    
    th, td {
        border: 1px solid #000 !important;
        padding: 0.5rem !important;
        text-align: left !important;
    }
    
    th {
        background: #eee !important;
        font-weight: bold !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* ========================================
       LISTS
    ======================================== */
    ul, ol {
        margin-left: 1.5rem !important;
        padding-left: 0 !important;
    }
    
    li {
        margin-bottom: 0.25rem !important;
    }
    
    /* ========================================
       BLOCKQUOTES & ADMONITIONS
    ======================================== */
    blockquote {
        border-left: 3pt solid #333 !important;
        margin: 1rem 0 !important;
        padding: 0.5rem 1rem !important;
        background: #f9f9f9 !important;
        page-break-inside: avoid;
    }
    
    .admonitionblock,
    .notice,
    .warning,
    .tip,
    .note,
    .important,
    .caution {
        border: 1pt solid #333 !important;
        padding: 0.75rem !important;
        margin: 1rem 0 !important;
        page-break-inside: avoid;
        background: #f9f9f9 !important;
    }
    
    /* ========================================
       MERMAID DIAGRAMS
    ======================================== */
    .mermaid,
    .mermaid-container {
        page-break-inside: avoid;
        max-width: 100% !important;
    }
    
    .mermaid svg {
        max-width: 100% !important;
        height: auto !important;
    }
    
    /* ========================================
       SERIES NAVIGATION
    ======================================== */
    .series-nav {
        border: 1pt solid #ccc !important;
        padding: 0.75rem !important;
        margin: 1rem 0 !important;
        background: #f9f9f9 !important;
        page-break-inside: avoid;
    }
    
    /* ========================================
       PRINT HEADER/FOOTER
    ======================================== */
    /* Add URL at top of page */
    body::before {
        content: "Printed from: " attr(data-url);
        display: block;
        font-size: 8pt;
        color: #666;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #ccc;
    }
    
    /* Add page numbers (browser support varies) */
    @page {
        @bottom-center {
            content: counter(page);
        }
    }
    
    /* ========================================
       CATEGORIES & TAGS
    ======================================== */
    .categories {
        font-size: 9pt !important;
        margin-bottom: 0.5rem !important;
    }
    
    .category-link {
        background: #eee !important;
        color: #000 !important;
        border: 1px solid #ccc !important;
        padding: 0.2rem 0.5rem !important;
    }
    
    /* ========================================
       PAGE BREAK MANAGEMENT
    ======================================== */
    /* Avoid breaking inside these elements */
    .admonitionblock,
    .notice,
    .warning,
    .tip,
    .note,
    .important,
    .caution,
    .code-block-wrapper,
    .highlight,
    .listingblock,
    .imageblock,
    .tableblock,
    ul, ol {
        page-break-inside: avoid;
    }
    
    /* Keep headings with following content */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
        break-after: avoid;
    }
    
    /* Allow page breaks before major sections */
    h2 {
        page-break-before: auto;
    }
    
    /* ========================================
       ARTICLE INFO HEADER
    ======================================== */
    .articleinfo {
        border-bottom: 1px solid #ccc !important;
        padding-bottom: 0.5rem !important;
        margin-bottom: 1rem !important;
    }
    
    .articleinfo .tracked {
        display: block !important;
    }
    
    /* ========================================
       FOOTNOTES
    ======================================== */
    .footnotes {
        border-top: 1px solid #ccc !important;
        margin-top: 2rem !important;
        padding-top: 1rem !important;
        font-size: 9pt !important;
    }
    
    .footnote-ref {
        text-decoration: none !important;
    }
    
    /* ========================================
       DEFINITION LISTS
    ======================================== */
    dl {
        margin: 1rem 0 !important;
    }
    
    dt {
        font-weight: bold !important;
        margin-top: 0.5rem !important;
    }
    
    dd {
        margin-left: 1.5rem !important;
        margin-bottom: 0.5rem !important;
    }
}

/* ========================================
   PRINT BUTTON (optional UI element)
======================================== */
.print-button {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.4rem 0.8rem;
    background: transparent;
    border: 1px solid var(--MENU-SECTION-HR-color, #ddd);
    border-radius: 20px;
    color: var(--MAIN-TEXT-color-DARK, #666);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.print-button:hover {
    border-color: var(--MAIN-LINK-color, #1e90ff);
    color: var(--MAIN-LINK-color, #1e90ff);
}

@media print {
    .print-button {
        display: none !important;
    }
}

