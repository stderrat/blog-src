        {{ if .Params.chapter }}
            </div> <!-- end chapter-->
        {{ end }}
        </div>
      </div>



      <div id="navigation-bottom">
        <!-- Next prev page -->
        {{ $currentNode := . }}

        {{ template "menu-nextprev" dict "menu" .Site.Home "currentnode" $currentNode }}

        {{ define "menu-nextprev" }}
            {{$currentNode := .currentnode }}
            {{ if ne .menu.Params.hidden true}}
                {{if hasPrefix $currentNode.RelPermalink .menu.RelPermalink }}
                    {{ $currentNode.Scratch.Set "NextPageOK" "OK" }}
                    {{ $currentNode.Scratch.Set "prevPage" ($currentNode.Scratch.Get "prevPageTmp") }}
                {{else}}
                    {{if eq ($currentNode.Scratch.Get "NextPageOK") "OK"}}
                        {{ $currentNode.Scratch.Set "NextPageOK" nil }}
                        {{ $currentNode.Scratch.Set "nextPage" .menu }}
                    {{end}}
                {{end}}
                {{ $currentNode.Scratch.Set "prevPageTmp" .menu }}

                    {{ $currentNode.Scratch.Set "pages" .menu.Pages }}
                    {{ if .menu.IsHome}}
                        {{ $currentNode.Scratch.Set "pages" .menu.Sections }}
                    {{ else if .menu.Sections}}
                        {{ $currentNode.Scratch.Set "pages" (.menu.Pages | union .menu.Sections) }}
                    {{end}}
                    {{ $pages := ($currentNode.Scratch.Get "pages") }}

                    {{ range $pages.ByWeight  }}
                        {{ template "menu-nextprev" dict "menu" . "currentnode" $currentNode }}
                    {{end}}
            {{ end }}
        {{ end }}


   {{$showPrevNext := (and (not .Params.disableNextPrev) (not .Site.Params.disableNextPrev))}}


   {{if $showPrevNext}}
   {{ if and (ne .Kind "taxonomy") (ne .Kind "term") }}
    {{with ($.Scratch.Get "prevPage")}}
      <a class="readme-a margin-right-5 margin-bottom-2 inline-flex relative no-highlight" href="{{.RelPermalink}}" title="{{.Title}}">
        <div class="w-100 h-100 readmore-btn transition-transform hover:translate-x-2 hover:translate-y-2">
          <i class="fa fa-chevron-left btn-bottom-prev"></i>
          <span class="btn-bottom-text"></span> {{.Title}}
        </div>
        <div class="absolute w-100 h-100 top-2 left-2 to-beta from-alpha via-alpha btn-gradient-background"></div>
      </a>
    {{end}}
    {{with ($.Scratch.Get "nextPage")}}
      <a class="readme-a inline-flex relative no-highlight" href="{{.RelPermalink}}" title="{{.Title}}" style="margin-right: 0px;">
        <div class="w-100 h-100 readmore-btn transition-transform hover:translate-x-2 hover:translate-y-2">
          <i class="fa fa-chevron-right btn-bottom-next"></i>
          <span class="btn-bottom-text"></span> {{.Title}}
        </div>
        <div class="absolute w-100 h-100 top-2 left-2 to-beta from-alpha via-alpha btn-gradient-background"></div>
      </a>
    {{end}}
    {{end}}
  {{end}}
    </div>


    {{ if .Site.Copyright }}
    <div class="copyright">
      <p>{{ $.Param "copyright" | default (i18n "Copyright") }} &copy; {{ with .Site.Params.yaub.copyrightstart }} {{ . }}{{ end }} - {{ dateFormat "2006" now }} {{ .Site.Copyright }}</p>
    </div>
    {{ end }}
    </section>

<!-- READING PROGRESS BAR -->
<script>
(function(){
    document.addEventListener('DOMContentLoaded', function() {
        var progressBar = document.querySelector('.read-progress');
        if (!progressBar) return;
        
        // Add the animation class
        progressBar.classList.add('position-fixed');
        
        function updateProgress() {
            var scrollTop = window.scrollY || document.documentElement.scrollTop;
            var docHeight = document.documentElement.scrollHeight - window.innerHeight;
            
            if (docHeight > 0) {
                var progress = Math.min((scrollTop / docHeight) * 100, 100);
                progressBar.style.width = progress + '%';
            }
        }
        
        // Throttle scroll events for better performance
        var ticking = false;
        window.addEventListener('scroll', function() {
            if (!ticking) {
                window.requestAnimationFrame(function() {
                    updateProgress();
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true });
        
        // Initial call and resize handler
        updateProgress();
        window.addEventListener('resize', updateProgress, { passive: true });
    });
})();
</script>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="{{"js/clipboard.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script src="{{"js/perfect-scrollbar.jquery.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script src="{{"js/jquery.sticky.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script src="{{"js/featherlight.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    
    <!-- WebP image upgrade for better performance (works with AsciiDoc) -->
    <script src="{{"js/webp-upgrade.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script src="{{"js/highlight.pack.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- Modernizr removed - replaced with inline JS in header.html -->
    <script src="{{"js/learn.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script src="{{"js/hugo-learn.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
    <script src="{{"js/yaub.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>

{{ if .Sections}}
{{else}}
     <script>
        window.addEventListener('DOMContentLoaded', () => {

            const observerForTableOfContentActiveState = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    if (entry.intersectionRatio > 0) {
                        clearActiveStatesInTableOfContents();
                        // Null check to prevent errors when heading isn't in TOC
                        const tocLink = document.querySelector(`aside nav li a[href="#${id}"]`);
                        if (tocLink) {
                            tocLink.parentElement.classList.add('active');
                        }
                    }
                });
            });

            document.querySelectorAll('h1[id],h2[id],h3[id]').forEach((section) => {
                observerForTableOfContentActiveState.observe(section);
            });
        });

        function clearActiveStatesInTableOfContents() {
            document.querySelectorAll('aside nav li').forEach((section) => {
                section.classList.remove('active');
            });
        }
    </script>
{{end}}
    <script type="text/javascript">
        function scrollTopAnimated() {
            $("html, body").animate(
                { scrollTop: "0" }, 500);
        }
    </script>

    <script>
        function topFunction() {
          document.body.scrollTop = 0; // For Safari
          document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }

        $(".article-box").click(function() {
//            window.location = $(this).find("a").attr("href");
            window.location = $(this).attr('href');
            // stopPropagation is required, since there are multiple links inside the DIV
            $this.stopPropagation();
            return false;
            



          });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Select all anchor elements with class "category-link"
            var elements = document.querySelectorAll("a.category-link");

            // Loop through each anchor element
            elements.forEach(function(element) {
                // Get the text content of the anchor element
                var text = element.textContent.trim().toLowerCase();

                // Add a class based on the text content
                if (text === "openshift") {
                    element.classList.add("openshift");
                }
                if (text === "compliance") {
                    element.classList.add("compliance");
                }
                if (text === "service mesh") {
                    element.classList.add("mesh");
                }
                if (text === "security") {
                    element.classList.add("security");
                }
                if (text === "other") {
                    element.classList.add("other");
                }
                if (text === "ansible") {
                    element.classList.add("ansible");
                }
                if (text === "supply chain") {
                    element.classList.add("cicd");
                }
                if (text === "gitops") {
                    element.classList.add("gitops");
                }
                if (text === "grafana") {
                    element.classList.add("grafana");
                }
                if (text === "tempo") {
                    element.classList.add("grafana");
                }
                if (text === "opentelemetry") {
                    element.classList.add("opentelemetry");
                }
                if (text === "advanced cluster security") {
                    element.classList.add("acs");
                }
                if (text === "quay") {
                    element.classList.add("quay");
                }
            });
        });
    </script>

    {{ if (or (and (ne .Params.disableMermaid nil) (not .Params.disableMermaid)) (not .Site.Params.disableMermaid)) }}
        <!-- JS-YAML for mermaid frontmatter parsing -->
        <script src="{{"js/js-yaml/js-yaml.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        
        <!-- D3 libraries for Mermaid zoom functionality -->
        <script src="{{"js/d3/d3-color.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-dispatch.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-drag.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-ease.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-interpolate.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-selection.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-timer.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-transition.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        <script src="{{"js/d3/d3-zoom.min.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        
        {{ if isset .Params "customMermaidURL" }}
            <script src="{{ .Params.customMermaidURL }}"></script>
        {{ else if isset .Site.Params "customMermaidURL" }}
            <script src="{{ .Site.Params.customMermaidURL }}"></script>
        {{ else }}
            <script src="{{"mermaid/mermaid.js" | relURL}}{{ if not .Site.Params.disableAssetsBusting }}?{{ now.Unix }}{{ end }}"></script>
        {{ end }}
        <script>
            // Initialize window.relearn for zoom functionality
            window.relearn = window.relearn || {};
            window.relearn.themeUseMermaid = true;
            window.relearn.mermaidConfig = { securityLevel: 'loose' };
            
            // Translation strings for mermaid zoom
            window.T_Reset_view = 'Reset view';
            window.T_View_reset = 'View reset';
            
            // Toast notification function (simple fallback)
            window.showToast = window.showToast || function(msg) {
                console.log('Toast:', msg);
            };
            
            // Initialize mermaid with cross-browser compatible settings
            if (typeof mermaid !== 'undefined') {
                mermaid.initialize({ 
                    startOnLoad: false,  // We'll manually trigger it
                    securityLevel: 'loose',  // Firefox/Safari compatible
                    theme: 'default'
                });
            }
        </script>
    {{ end }}

    {{ partial "keyboard-hints.html" . }}
    {{ partial "custom-footer.html" . }}
  </body>
</html>
